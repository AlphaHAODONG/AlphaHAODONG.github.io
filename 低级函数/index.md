# 低级函数


### 函数

函数是编程中的一个基本概念，它是一段被命名的代码块，可以在程序中多次调用。函数允许将代码逻辑分成可重复使用的模块，从而提高代码的可读性、可维护性和重用性。以下是关于函数的详细描述：

##### 1-1. **定义函数**：

  函数通常由函数头和函数体组成。函数头包括函数的返回类型、函数名称和参数列表。函数体包含实际的代码逻辑。例如，以下是一个简单的函数定义：

```c
  int add(int a, int b) {
    return a + b;
  }

```

##### 1-2. **函数调用**：

  函数调用是指在程序中使用函数。通过函数名称和实参（参数的实际值），可以调用函数并执行函数体中的代码。函数调用可以在程序的任何地方进行。例如：

```c
  int sum = add(5, 3); // 调用 add 函数，传入参数 5 和 3
```

##### 1-3. **函数返回值**：

  函数可以返回一个值，这个值是通过 `return` 语句从函数体中返回的。返回值的类型需要与函数头中的返回类型匹配。如果函数不返回值，返回类型应该是 `void`。例如：

```c
  int multiply(int x, int y) {
    return x * y;
  }
  void showMessage() {
    printf("Hello, world!\n");
  }
```

##### 1-4. **函数参数**：

  函数可以接受零个或多个参数，参数是传递给函数的值。参数列表定义了函数的输入。在函数调用时，实参传递给参数。例如：

```c
  double calculateAverage(double num1, double num2, double num3) {
    return (num1 + num2 + num3) / 3.0;
  }

```

##### 1-5. **函数声明**：

  在函数使用之前，需要提前声明函数。函数声明描述了函数的名称、返回类型和参数列表。函数声明可以放在函数使用之前的位置，或者放在头文件中。这样编译器就知道函数的存在和特征。例如：

```c
  int add(int a, int b); // 函数声明
```

##### 1-6. **递归函数**：

  函数可以调用自身，这种称为递归。递归函数可以用于解决需要重复进行相同操作的问题。例如，计算阶乘的递归函数：

```c
  int factorial(int n) {
    if (n == 0 || n == 1) {
      return 1;
    } else {
      return n * factorial(n - 1);
    }
  }
```

函数是将代码模块化、组织代码、提高可重用性和维护性的关键工具。通过函数，程序员可以将复杂的问题分解为小块，更好地管理代码。

#### 2.形参和实参:

##### 2-1.**形参（形式参数）**：

  形参是函数定义中声明的参数，用于接受函数调用时传递给函数的值。形参在函数定义中作为变量名出现，并指定了参数的数据类型。形参的作用范围仅限于函数体内部。函数的形参为函数提供了数据输入的方式。

  例如，在下面的函数定义中，`a` 和 `b` 是形参：

```c
  int add(int a, int b) {
    return a + b;
  }
```

##### 2-2.  **实参（实际参数）**：

  实参是函数调用时传递给函数的值，用于提供函数所需的数据。实参可以是常量、变量、表达式等。当函数被调用时，实参的值被传递给函数的形参。实参与形参之间的数据类型和顺序必须匹配。

  例如，在下面的函数调用中，`5` 和 `3` 是实参：

```c
  int sum = add(5, 3);
```

##### 2-3. **形参和实参的关系**：

  当函数被调用时，实参的值被复制到函数的形参中，函数内部使用的是形参的值。形参在函数体中的操作不会影响实际传递的参数。实参和形参之间的连接是通过函数调用建立的，它们在内存中占用不同的位置。

##### 2-4. **形参和实参匹配**：

  \- 数量必须匹配：函数调用时提供的实参数量必须与函数定义中的形参数量一致。
  \- 类型必须匹配：实参的数据类型必须与相应形参的数据类型匹配，或者能够隐式转换为匹配的数据类型。
  \- 顺序必须匹配：如果函数定义中有多个形参，实参的顺序必须与形参的顺序匹配。

总之，形参是函数定义中的参数，用于接收传递给函数的值，而实参是函数调用中的参数，提供给函数所需的数据。形参和实参之间的正确匹配是确保函数调用成功的关键。

#### 3.return和exit:

##### 3-1. **return**：

  `return` 是用于函数中的关键字，用于从函数中返回一个值，并将控制权返回给调用函数的地方。每个函数的返回类型需要在函数声明或定义中指定，而且函数中的 `return` 语句应该返回相应的值，与函数的返回类型相匹配。`return` 语句还可以提前退出函数的执行。

  示例：

```c
  int add(int a, int b) {
    return a + b;
  }

  int main() {
    int sum = add(5, 3); // 调用 add 函数并获取返回值 8
    return 0;
  }
```

##### 3-2. **exit**：

  `exit` 是一个库函数，用于终止整个程序的执行。它位于 `stdlib.h` 头文件中。当调用 `exit` 时，程序会立即退出，不再执行任何剩余的代码，且不会调用任何析构函数。你可以提供一个整数参数作为退出状态码，通常用于向操作系统报告程序退出的状态。

  示例：

```c
  #include <stdio.h>
  #include <stdlib.h>

  int main() {
    printf("Before exit\n");
    exit(1); // 终止程序，返回状态码 1
    printf("After exit\n"); // 不会执行这行代码
    return 0;
  }
```

总结：
\- `return` 用于函数中，返回函数的结果给调用者，继续执行调用者的代码。
\- `exit` 用于整个程序，立即终止程序的执行，不再执行剩余的代码，通常用于表示程序的结束状态。
